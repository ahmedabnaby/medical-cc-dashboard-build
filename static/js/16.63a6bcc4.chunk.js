(this["webpackJsonpekseer-dashboard"]=this["webpackJsonpekseer-dashboard"]||[]).push([[16],{550:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var a=n(117),c=n.n(a),r=n(137),i=n(12),l=n(0),o=n.n(l),s=n(231),d=n(301),j=n(225),u=n(168),b=n(304),h=n(382),m=n(226),x=n(227),p=n(315),O=n(54),f=n(354),g=n(358),_=n(357),y=n(353),v=n(355),C=n(356),w=n(16),k=n(559),B=n(167),N=n(118),S=n(1),D=Object(s.a)({table:{minWidth:350},searchControl:{width:"100%",paddingRight:"8px",paddingLeft:"16px",marginBottom:"16px",marginTop:"16px"}});function E(e,t,n,a,c){return{name:e,calories:t,fat:n,carbs:a,protein:c}}E("Frozen yoghurt",159,6,24,4),E("Ice cream sandwich",237,9,37,4.3),E("Eclair",262,16,24,6),E("Cupcake",305,3.7,67,4.3),E("Gingerbread",356,16,49,3.9);function I(){var e=D(),t="https://backend.alsahaba.sa/api",n=o.a.useState([]),a=Object(i.a)(n,2),s=a[0],x=a[1],p=o.a.useState([]),B=Object(i.a)(p,2),N=B[0],E=B[1],I=o.a.useState(""),L=Object(i.a)(I,2),q=L[0],R=L[1],A=o.a.useState(!1),V=Object(i.a)(A,2),U=V[0],P=V[1],W=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(t,"/users/")).then((function(e){x(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(t,"/search?query=").concat(q)).then((function(e){x(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(i.a)(t,5),a=n[0],c=n[1],r=n[2],l=n[3],o=n[4],s=a.toUpperCase();return"".concat(c," ").concat(s," ").concat(r," ").concat(l," ").concat(o)};return Object(l.useEffect)((function(){W()}),[]),Object(S.jsxs)(o.a.Fragment,{children:[console.log(q),U&&Object(S.jsx)(F,{doctor:N,handleClose:function(){P(!1)}}),Object(S.jsx)(d.a,{container:!0,spacing:O.b,children:Object(S.jsx)(d.a,{item:!0,xs:12,children:Object(S.jsxs)(j.a,{children:[Object(S.jsxs)(d.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(d.a,{item:!0,children:Object(S.jsx)(u.a,{title:"Registered Doctors"})}),Object(S.jsx)(d.a,{item:!0,style:{marginRight:"25px"},children:Object(S.jsx)(b.a,{className:e.searchControl,id:"input-search-profile",value:q,onChange:function(e){""===e.target.value?(R(e.target.value),W()):(R(e.target.value),H())},placeholder:"Search doctors",startAdornment:Object(S.jsx)(h.a,{position:"start",children:Object(S.jsx)(w.V,{stroke:1.5,size:"1.3rem",className:e.startAdornment})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0})})]}),Object(S.jsx)(m.a,{}),Object(S.jsx)(y.a,{children:Object(S.jsxs)(f.a,{className:e.table,"aria-label":"simple table",children:[Object(S.jsx)(v.a,{children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(_.a,{children:"#"}),Object(S.jsx)(_.a,{children:"Doctor name"}),Object(S.jsx)(_.a,{align:"left",children:"ID/Iqama number"}),Object(S.jsx)(_.a,{align:"left",children:"Copy of iqama number"}),Object(S.jsx)(_.a,{align:"left",style:{whiteSpace:"nowrap"},children:"Date of birth"}),Object(S.jsx)(_.a,{align:"left",children:"Mobile number"}),Object(S.jsx)(_.a,{align:"left",children:"E-mail"}),Object(S.jsx)(_.a,{align:"left",children:"Nationality"}),Object(S.jsx)(_.a,{align:"left",children:"SCFHS Registration"}),Object(S.jsx)(_.a,{align:"left",children:"Copy of scfhs registration card"}),Object(S.jsx)(_.a,{align:"left",children:"Current Employer Name"}),Object(S.jsx)(_.a,{align:"left",children:"Current Employer License Number"}),Object(S.jsx)(_.a,{align:"left",children:"Current Employer City Location "}),Object(S.jsx)(_.a,{align:"left",children:"Current Employer Website"}),Object(S.jsx)(_.a,{align:"left",children:"CV/Resume"}),Object(S.jsx)(_.a,{align:"left",children:"Personal photo"}),Object(S.jsx)(_.a,{align:"left",children:"Verifed"}),Object(S.jsx)(_.a,{align:"left",children:"Registered date"}),Object(S.jsx)(_.a,{align:"left",children:"Last login"})]})}),Object(S.jsx)(g.a,{children:s&&(null===s||void 0===s?void 0:s.filter((function(e){return e.is_doctor})).map((function(e,t){return Object(S.jsxs)(C.a,{onClick:function(){return function(e){P(!0),E(e)}(e)},children:[Object(S.jsx)(_.a,{align:"left",children:t+1}),Object(S.jsx)(_.a,{component:"th",children:e.full_name}),Object(S.jsx)(_.a,{align:"left",children:e.iqama_number}),Object(S.jsx)(_.a,{align:"left",children:"Image"}),Object(S.jsx)(_.a,{align:"left",children:e.date_of_birth}),Object(S.jsx)(_.a,{align:"left",children:e.mobile_number}),Object(S.jsx)(_.a,{align:"left",children:e.email}),Object(S.jsx)(_.a,{align:"left",children:e.nationality}),Object(S.jsx)(_.a,{align:"left",children:e.scfhs_registration}),Object(S.jsx)(_.a,{align:"left",children:e.current_employer_name}),Object(S.jsx)(_.a,{align:"left",children:e.current_employer_license_num}),Object(S.jsx)(_.a,{align:"left",children:e.current_employer_city}),Object(S.jsx)(_.a,{align:"left",children:e.current_employer_website}),Object(S.jsx)(_.a,{align:"left",children:"Image"}),Object(S.jsx)(_.a,{align:"left",children:"File"}),Object(S.jsx)(_.a,{align:"left",children:"Image"}),Object(S.jsx)(_.a,{align:"left",children:!1===e.is_verified?"No":"Yes"}),Object(S.jsx)(_.a,{align:"left",children:T(e.created_at)}),Object(S.jsx)(_.a,{align:"left",children:null===e.last_login?"N/A":T(e.last_login)})]},e.id)})))})]})})]})})})]})}var F=function(e){var t="https://backend.alsahaba.sa/api",n=o.a.useState([]),a=Object(i.a)(n,2),s=(a[0],a[1]),b=o.a.useState(null),h=Object(i.a)(b,2),f=h[0],g=h[1],_=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(t,"/users/")).then((function(e){s(e.data)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(c.a.mark((function e(n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new FormData).append("is_verified",!0),Object(k.a)({method:"put",url:"".concat(t,"/update-user/").concat(n,"/"),data:a,headers:{"Content-Type":"application/json"}}).then((function(e){window.location.reload(!1)})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){document.getElementById("full-image").src=e,document.getElementById("image-viewer").style.display="block"},C=function(){document.getElementById("image-viewer").style.display="none"};return Object(l.useEffect)((function(){_()}),[]),Object(S.jsx)(d.a,{container:!0,spacing:O.b,children:Object(S.jsx)(d.a,{item:!0,xs:12,children:Object(S.jsxs)(j.a,{className:"popup-container",children:[Object(S.jsx)(u.a,{title:"Consultation"}),Object(S.jsx)(m.a,{}),Object(S.jsxs)(x.a,{className:"popup-body",id:"popupCustom",style:{top:"235px"},children:[Object(S.jsx)(p.a,{id:"closeBtn",onClick:function(){return e.handleClose()},children:"X"}),Object(S.jsx)(d.a,{container:!0,spacing:O.b,children:Object(S.jsx)(d.a,{item:!0,xs:12,sm:6,children:Object(S.jsx)(N.a,{title:e.doctor.full_name,children:Object(S.jsx)(d.a,{container:!0,direction:"column",id:"poppins",spacing:1,children:Object(S.jsxs)(d.a,{item:!0,children:[Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Doctor name: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.full_name})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["ID/Iqama number: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.iqama_number})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Copy of ID/Iqama number: \xa0",Object(S.jsx)("span",{id:"small-text",onClick:function(){return v(e.doctor.copy_of_iqama_number)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},children:"Image"}),Object(S.jsxs)("div",{id:"image-viewer",onClick:C,children:[Object(S.jsx)("span",{className:"closed",children:"\xd7"}),Object(S.jsx)("img",{className:"modal-content",id:"full-image"})]})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Date of birth: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.date_of_birth})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Mobile number: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.mobile_number})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["E-mail: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.email})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Nationality: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.nationality})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["SCFHS registration: \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.scfhs_registration})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Copy of SCFHS registration : \xa0",Object(S.jsx)("span",{id:"small-text",onClick:function(){return v(e.doctor.copy_of_scfhs_registration_card)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},children:"Image"}),Object(S.jsxs)("div",{id:"image-viewer",onClick:C,children:[Object(S.jsx)("span",{className:"closed",children:"\xd7"}),Object(S.jsx)("img",{className:"modal-content",id:"full-image"})]})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Current Employer Name : \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.current_employer_name})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Current Employer License Number : \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.current_employer_license_num})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Current Employer City Location : \xa0",Object(S.jsx)("span",{id:"small-text",children:e.doctor.current_employer_city})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Current Employer Website : \xa0",Object(S.jsx)("a",{href:e.doctor.current_employer_website,id:"small-text",children:e.doctor.current_employer_website})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["CV/Resume: \xa0",Object(S.jsx)("span",{id:"small-text",children:Object(S.jsx)("a",{href:e.doctor.cv,target:"_blank",children:"File"})})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Personal Photo: \xa0",Object(S.jsx)("span",{id:"small-text",onClick:function(){return v(e.doctor.personal_photo)},style:{cursor:"pointer",textDecoration:"underline",color:"blue"},children:"Image"}),Object(S.jsxs)("div",{id:"image-viewer",onClick:C,children:[Object(S.jsx)("span",{className:"closed",children:"\xd7"}),Object(S.jsx)("img",{className:"modal-content",id:"full-image"})]})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Verifed: \xa0",Object(S.jsx)("span",{id:"small-text",children:!1===e.doctor.is_verified?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("span",{children:"No "}),Object(S.jsx)(p.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,onClick:function(){return y(e.doctor.id)},children:"Verify!"})]}):"Yes"})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Last login: \xa0",Object(S.jsx)("span",{id:"small-text",children:null===e.doctor.last_login?"N/A":function(e){var t=new Date(e).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(i.a)(t,5),a=n[0],c=n[1],r=n[2],l=n[3],o=n[4],s=a.toUpperCase();return"".concat(c," ").concat(s," ").concat(r," ").concat(l," ").concat(o)}(e.doctor.last_login)})]}),Object(S.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=new FormData;void 0===e.target.contract.files[0]?n.append("contract",null):n.append("contract",e.target.contract.files[0]),void 0===e.target.no_objection_letter.files[0]?n.append("no_objection_letter",null):n.append("no_objection_letter",e.target.no_objection_letter.files[0]),void 0===e.target.additional_attachment.files[0]?n.append("additional_attachment",null):n.append("additional_attachment",e.target.additional_attachment.files[0]),Object(k.a)({method:"put",url:"".concat(t,"/update-user/").concat(f,"/"),data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){window.location.reload(!1)})).catch((function(e){console.log(e)}))},children:[Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Contract: \xa0",Object(S.jsx)("input",{type:"file",name:"contract",onClick:function(){return g(e.doctor.id)}})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Non Objection Letter: \xa0",Object(S.jsx)("input",{type:"file",name:"no_objection_letter",onClick:function(){return g(e.doctor.id)}})]}),Object(S.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Additional Attachment: \xa0",Object(S.jsx)("input",{type:"file",name:"additional_attachment",onClick:function(){return g(e.doctor.id)}})]}),Object(S.jsx)(p.a,{type:"submit",variant:"contained",color:"success",disableElevation:!0,children:"Upload!"})]})]})})})})})]})]})})})}}}]);
//# sourceMappingURL=16.63a6bcc4.chunk.js.map