(this["webpackJsonpekseer-dashboard"]=this["webpackJsonpekseer-dashboard"]||[]).push([[18],{560:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return E}));var a=n(117),c=n.n(a),i=n(135),s=n(12),r=n(0),l=n.n(r),o=n(230),j=n(300),d=n(224),h=n(167),b=n(303),u=n(412),x=n(225),m=n(54),O=n(374),p=n(378),g=n(377),f=n(373),v=n(375),y=n(376),C=n(314),_=n(16),S=n(555),w=n(546),k=n(226),B=n(166),N=n(118),A=n(290),D=n(1),M=function(t){var e=Object(r.useState)([]),n=Object(s.a)(e,2),a=n[0],l=n[1],o=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat("https://backend.alsahaba.sa/api","/consultations/")).then((function(t){l(t.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(t){var e=new Date(t).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(s.a)(e,5),a=n[0],c=n[1],i=n[2],r=n[3],l=n[4],o=a.toUpperCase();return"".concat(c," ").concat(o," ").concat(i," ").concat(r," ").concat(l)};return Object(r.useEffect)((function(){o()}),[]),Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(A.a,{open:t.showModal,onClose:t.handleModalClose,"aria-labelledby":"total-income-pattern-modal-title","aria-describedby":"total-income-pattern-modal-description",children:Object(D.jsx)(j.a,{container:!0,spacing:m.b,children:Object(D.jsx)(j.a,{item:!0,xs:12,children:Object(D.jsx)(d.a,{className:"popup-container",children:Object(D.jsxs)(k.a,{className:"popup-body",style:{top:"250px",overflowY:"auto",height:"75vh"},children:[Object(D.jsx)(C.a,{id:"closeBtn",onClick:null===t||void 0===t?void 0:t.handleCloseConsultation,children:"X"}),Object(D.jsx)(j.a,{container:!0,spacing:m.b,children:Object(D.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(D.Fragment,{children:a&&(null===a||void 0===a?void 0:a.filter((function(e){return e.id===(null===t||void 0===t?void 0:t.consultation)})).map((function(t,e){return Object(D.jsxs)(N.a,{title:"Consultation",children:[Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Chief Complaint:"}),Object(D.jsx)("strong",{children:t.chief_complaint})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"History of Illness:"}),Object(D.jsx)("strong",{children:t.history_of_illness})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Review of systems:"}),Object(D.jsx)("strong",{children:t.review_of_systems})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Examinations:"}),Object(D.jsx)("strong",{children:t.examination})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Assessments/Plans:"}),Object(D.jsx)("strong",{children:t.assessment})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Medication:"}),Object(D.jsx)("strong",{children:t.medication})]}),Object(D.jsxs)("div",{className:"mt-4",children:[Object(D.jsx)("h5",{children:"Sick leave:"}),Object(D.jsx)("strong",{children:t.sick_leave})]}),Object(D.jsxs)("div",{className:"mt-4 mb-4",children:[Object(D.jsx)("h5",{children:"Created At:"}),Object(D.jsx)("strong",{children:h(t.created_at)})]})]})})))})})})]})})})})})})},P=function(t){var e,n=l.a.useState(!1),a=Object(s.a)(n,2),c=a[0],i=a[1],o=Object(r.useState)([]),b=Object(s.a)(o,2),u=b[0],O=b[1],p=Object(r.useState)(!0),g=Object(s.a)(p,2),f=g[0],v=(g[1],function(){i(!1)});return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(w.a,{children:[c&&Object(D.jsx)(M,{consultation:u,showModal:f,handleCloseConsultation:v}),Object(D.jsx)(j.a,{container:!0,spacing:m.b,children:Object(D.jsx)(j.a,{item:!0,xs:12,children:Object(D.jsxs)(d.a,{className:"popup-container",children:[Object(D.jsx)(h.a,{title:"Payment Info"}),Object(D.jsx)(x.a,{}),Object(D.jsxs)(k.a,{className:"popup-body",id:"popupCustom",children:[Object(D.jsx)(C.a,{id:"closeBtn",onClick:function(){return t.handleClose()},children:"X"}),Object(D.jsx)(j.a,{container:!0,spacing:m.b,children:Object(D.jsx)(j.a,{item:!0,xs:12,sm:6,children:Object(D.jsx)(N.a,{title:t.payment.order_id,children:Object(D.jsx)(j.a,{container:!0,direction:"column",id:"poppins",spacing:1,children:Object(D.jsxs)(j.a,{item:!0,children:[Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Order ID: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.order_id})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Creation Time: \xa0",Object(D.jsx)("span",{id:"small-text",children:function(t){var e=new Date(t).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(s.a)(e,5),a=n[0],c=n[1],i=n[2],r=n[3],l=n[4],o=a.toUpperCase();return"".concat(c," ").concat(o," ").concat(i," ").concat(r," ").concat(l)}(t.payment.creation_time)})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Message: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.message})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Status: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.status})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Total Authorized Amount: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.total_authorized_amount})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Total Cuthorized Amount: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.total_captured_amount})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Payment Info: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.payment_info})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Payment Mechanism: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.payment_mechanism})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Brand: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.brand})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Scheme: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.scheme})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Expiry Month: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.expiry_month})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Expiry Month: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.expiry_year})]}),Object(D.jsxs)(B.a,{variant:"h3",gutterBottom:!0,children:["Consultation Status: \xa0",Object(D.jsx)("span",{id:"small-text",children:t.payment.payment_status})]}),(null===t||void 0===t||null===(e=t.payment)||void 0===e?void 0:e.call_id)&&Object(D.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return e=null===t||void 0===t?void 0:t.payment.call_id,v(),O(e),void i(!0);var e},disableElevation:!0,type:"submit",children:"Show Consultation"})]})})})})})]})]})})})]})})},I=Object(o.a)({table:{minWidth:350},searchControl:{width:"100%",paddingRight:"8px",paddingLeft:"16px",marginBottom:"16px",marginTop:"16px"}});function E(){var t=I(),e="https://backend.alsahaba.sa/api",n=l.a.useState([]),a=Object(s.a)(n,2),o=a[0],w=a[1],k=l.a.useState(""),B=Object(s.a)(k,2),N=B[0],A=B[1],M=Object(r.useState)(1),E=Object(s.a)(M,2),T=E[0],U=E[1],z=l.a.useState([]),F=Object(s.a)(z,2),L=F[0],R=F[1],J=Object(r.useState)(""),W=Object(s.a)(J,2),X=W[0],q=W[1],H=l.a.useState(!1),V=Object(s.a)(H,2),Y=V[0],G=V[1],K=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat(e,"/payments")).then((function(t){w(t.data)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get("".concat(e,"/payment-search?query=").concat(N)).then((function(t){w(t.data),U(1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Z=function(t){var e=new Date(t).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}).split(" "),n=Object(s.a)(e,5),a=n[0],c=n[1],i=n[2],r=n[3],l=n[4],o=a.toUpperCase();return"".concat(c," ").concat(o," ").concat(i," ").concat(r," ").concat(l)};Object(r.useEffect)((function(){K()}),[]);var $=10*(T-1),tt=$+10,et=o.filter((function(t){return!X||t.status===X})).slice($,tt),nt=10*T>=o.length;return Object(D.jsxs)(l.a.Fragment,{children:[Y&&Object(D.jsx)(P,{payment:L,handleClose:function(){G(!1)}}),Object(D.jsx)(j.a,{container:!0,spacing:m.b,children:Object(D.jsx)(j.a,{item:!0,xs:12,children:Object(D.jsxs)(d.a,{children:[Object(D.jsxs)(j.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(D.jsx)(j.a,{item:!0,children:Object(D.jsx)(h.a,{title:"All Payments"})}),Object(D.jsx)(j.a,{item:!0,children:Object(D.jsxs)("select",{value:X,className:t.searchControl,onChange:function(t){return q(t.target.value)},style:{height:"40px"},children:[Object(D.jsx)("option",{value:"",children:"All Status"}),Object(D.jsx)("option",{value:"CAPTURED",children:"Success"}),Object(D.jsx)("option",{value:"FAILED",children:"Failed"})]})}),Object(D.jsx)(j.a,{item:!0,style:{marginRight:"25px"},children:Object(D.jsx)(b.a,{className:t.searchControl,id:"input-search-profile",value:N,onChange:function(t){""===t.target.value?(A(t.target.value),K()):(A(t.target.value),Q())},placeholder:"Order ID",startAdornment:Object(D.jsx)(u.a,{position:"start",children:Object(D.jsx)(_.V,{stroke:1.5,size:"1.3rem",className:t.startAdornment})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"},labelWidth:0})})]}),Object(D.jsx)(x.a,{}),Object(D.jsx)(f.a,{children:Object(D.jsxs)(O.a,{className:t.table,"aria-label":"simple table",children:[Object(D.jsx)(v.a,{children:Object(D.jsxs)(y.a,{children:[Object(D.jsx)(g.a,{children:"#"}),Object(D.jsx)(g.a,{children:"Order ID"}),Object(D.jsx)(g.a,{align:"left",children:"Creation Time"}),Object(D.jsx)(g.a,{align:"left",children:"Message"}),Object(D.jsx)(g.a,{align:"left",children:"Status"}),Object(D.jsx)(g.a,{align:"left",children:"Total Authorized Amount"}),Object(D.jsx)(g.a,{align:"left",children:"Total Captured Amount"}),Object(D.jsx)(g.a,{align:"left",children:"Payment Info"}),Object(D.jsx)(g.a,{align:"left",children:"Consultation Status"})]})}),Object(D.jsx)(p.a,{children:et.map((function(t,e){return Object(D.jsxs)(y.a,{onClick:function(){return function(t){G(!0),R(t)}(t)},children:[Object(D.jsx)(g.a,{align:"left",children:e+1}),Object(D.jsx)(g.a,{component:"th",children:t.order_id}),Object(D.jsx)(g.a,{align:"left",children:Z(t.creation_time)}),Object(D.jsx)(g.a,{align:"left",children:t.message}),Object(D.jsx)(g.a,{align:"left",children:t.status}),Object(D.jsx)(g.a,{align:"left",children:t.total_authorized_amount}),Object(D.jsx)(g.a,{align:"left",children:t.total_captured_amount}),Object(D.jsx)(g.a,{align:"left",children:Object(D.jsxs)("div",{children:[t.payment_mechanism,": "," ",t.payment_info," ",t.expiry_month,"/",t.expiry_year]})}),Object(D.jsx)(g.a,{align:"left",children:t.payment_status?t.payment_status:"none"})]},t.id)}))})]})}),Object(D.jsxs)(j.a,{container:!0,justifyContent:"center",children:[" ",T>1&&Object(D.jsx)(C.a,{onClick:function(){U((function(t){return Math.max(t-1,1)}))},variant:"outlined",children:"Show Previous Page"}),!nt&&Object(D.jsx)(C.a,{onClick:function(){U((function(t){return t+1}))},variant:"outlined",children:"Show More"})]})]})})})]})}}}]);
//# sourceMappingURL=18.b5095f57.chunk.js.map